<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="https://static.timerx.top/timerx/assets/img/favicon.ico">
    <link rel="icon" type="image/png" href="https://static.timerx.top/timerx/assets/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>更新记录</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,600,800" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!-- Main CSS -->
    <link href="https://static.timerx.top/timerx/assets/css/main.css" rel="stylesheet" />

    <!-- Animation CSS -->
    <link href="https://static.timerx.top/timerx/assets/css/vendor/aos.css" rel="stylesheet" />

</head>

<body>

    <!----------------------------------------------------------------------
    NAVBAR (remove topnav if you don't want changed nav background on scroll)
    --------------------------------------------------------------------- -->
    <nav class="topnav navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/index/"><strong>TimerX</strong></a>
            <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02"
                aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse" id="navbarColor02">
                <ul class="navbar-nav mr-auto d-flex align-items-center">

                    <li class="nav-item">
                        <a class="nav-link" href="/manage-user/">用户管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/manage-operation/">操作记录</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/manage-update/">更新记录</a>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto d-flex align-items-center">
                    <li class="nav-item m-2">
                        <a class="btn btn-info btn-round shadow-sm" href="/adduser/">添加用户</a>
                    </li>
                    <li id="user" class="nav-item dropdown">
                        <a class="btn btn-info btn-round shadow-sm nav-link dropdown-toggle text-dark pl-3 pr-3"
                            href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="fas fa-user"></i>
                            {{userSession.username}}</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/logout/">登出</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navbar -->

    <!-------------------------------------
    HEADER
    ------------------------------------ -->
    <div class="jumbotron jumbotron-fluid mb-3 bg-primary position-relative">
        <div class="container text-white h-100 tofront">
            <div class="row align-items-center justify-content-center text-center">
                <div class="col-md-10">
                    <h1 class="display-3"><b>更新记录</b></h1>
                    <!-- <h3 class="font-weight-light mb-4">
                        简单便捷，高性价比，为您提供轻量级网站解决方案。
                    </h3> -->
                </div>
            </div>
        </div>
    </div>
    <!--- END HEADER -->

    <!-------------------------------------
    MAIN
    ------------------------------------ -->
    <main class="container-fluid">
        <section class="pt-3 pb-3">
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
                <div class="container">
                    <span class="navbar-brand" href="#"><strong>{{filterName}}</strong></span>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarNavDropdown-1" aria-controls="navbarNavDropdown-1" aria-expanded="false"
                        aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarNavDropdown-1">
                        <ul class="navbar-nav mr-auto">
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <button class="btn btn-info btn-round shadow-sm m-2" id="showViewSetting">显示设置</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <header id="viewSetting" style="display: none;">
                <div class="jumbotron-fluid mb-0 bg-primary position-relative pt-3 pb-3">
                    <div class="container text-white h-100">
                        <div class="align-items-center justify-content-between text-center">
                            <div class="col lg-mr-5 lg-ml-5 lg-pr-5 lg-pl-5">
                                <p>
                                    全部表项：<br>
                                    更新id 更新类型 更新用户数量 添加操作记录数量 更新内容 更新时间 备注
                                </p>
                                <p>
                                    电脑合适表项：<br>
                                    更新id 更新类型 更新用户数量 添加操作记录数量 更新内容 更新时间 备注
                                </p>
                                <p>
                                    手机合适表项：<br>
                                    更新内容 更新时间
                                </p>
                                <form action="/manage-view/" method="post">
                                    {% csrf_token %}
                                    <input class="d-none" type="text" name="viewType" value="update">
                                    <div class="form-group">
                                        <textarea class="form-control" rows="2"
                                            name='viewStr'>{{updateViewInfo}}</textarea>
                                    </div>
                                    <button type="submit" class="btn btn-lg btn-outline-white btn-round">保存</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <svg style="-webkit-transform:rotate(-180deg); -moz-transform:rotate(-180deg); -o-transform:rotate(-180deg); transform:rotate(-180deg); margin-top: -1px;"
                    version="1.1" id="Layer_1" xmlns=""
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 1440 126"
                    style="enable-background:new 0 0 1440 126;" xml:space="preserve">
                    <path class="bg-primary"
                        d="M685.6,38.8C418.7-11.1,170.2,9.9,0,30v96h1440V30C1252.7,52.2,1010,99.4,685.6,38.8z" />
                </svg>
            </header>
        </section>
        <!-- 用户表 -->
        <section class="pt-4 pb-5">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">
                            #
                        </th>
                        {% if '更新id' in updateViewInfo %}
                        <th scope="col">
                            更新id
                        </th>
                        {% endif %}
                        {% if '更新类型' in updateViewInfo %}
                        <th scope="col">
                            更新类型
                        </th>
                        {% endif %}
                        {% if '更新用户数量' in updateViewInfo %}
                        <th scope="col">
                            更新用户数量
                        </th>
                        {% endif %}
                        {% if '添加操作记录数量' in updateViewInfo %}
                        <th scope="col">
                            添加操作记录数量
                        </th>
                        {% endif %}
                        {% if '更新内容' in updateViewInfo %}
                        <th scope="col">
                            更新内容
                        </th>
                        {% endif %}
                        {% if '更新时间' in updateViewInfo %}
                        <th scope="col">
                            更新时间
                        </th>
                        {% endif %}
                        {% if '备注' in updateViewInfo %}
                        <th scope="col">
                            备注
                        </th>
                        {% endif %}

                    </tr>
                </thead>
                <tbody>
                    {% for updateInfo in updateList %}
                    <tr>
                        <th scope="row">
                            {{forloop.counter}}
                        </th>

                        {% if '更新id' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.id}}
                        </td>
                        {% endif %}
                        {% if '更新类型' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.update_type}}
                        </td>
                        {% endif %}
                        {% if '更新用户数量' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.update_usernum}}
                        </td>
                        {% endif %}
                        {% if '添加操作记录数量' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.add_operationnum}}
                        </td>
                        {% endif %}
                        {% if '更新内容' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.update_content}}
                        </td>
                        {% endif %}
                        {% if '更新时间' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.updatetime|date:"Y-m-d H:i"}}
                        </td>
                        {% endif %}
                        {% if '备注' in updateViewInfo %}
                        <td scope="col">
                            {{updateInfo.notes}}
                        </td>
                        {% endif %}

                    </tr>
                    {% endfor %}
                </tbody>
            </table>、
        </section>
    </main>
    <!--- END MAIN -->


    <!--------------------------------------
    FOOTER
    ------------------------------------ -->
    <footer class="bg-light pb-5 pt-4">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-md-12">
                    <span class="d-block mt-3 text-muted">© 2023 TimerX
                </div>
            </div>
        </div>
    </footer>



    <!--------------------------------------
    JAVASCRIPTS
    ------------------------------------ -->
    <script src="https://static.timerx.top/timerx/assets/js/vendor/jquery.min.js" type="text/javascript"></script>
    <script src="https://static.timerx.top/timerx/assets/js/vendor/popper.min.js" type="text/javascript"></script>
    <script src="https://static.timerx.top/timerx/assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://static.timerx.top/timerx/assets/js/vendor/share.js" type="text/javascript"></script>
    <script src="https://static.timerx.top/timerx/assets/js/functions.js" type="text/javascript"></script>

    <!-- Animation -->
    <script src="https://static.timerx.top/timerx/assets/js/vendor/aos.js" type="text/javascript"></script>
    <noscript>
        <style>
            *[data-aos] {
                display: block !important;
                opacity: 1 !important;
                visibility: visible !important;
            }
        </style>
    </noscript>
    <script>
        AOS.init({
            duration: 700
        });
    </script>

    <!-- Disable animation on less than 0px, change value if you like -->
    <script>
        AOS.init({
            disable: function () {
                var maxWidth = 0;
                return window.innerWidth < maxWidth;
            }
        });
    </script>

    <!-- Carousel Height Smooth -->
    <script>
        $('.carousel').on('slide.bs.carousel', function (event) {
            var height = $(event.relatedTarget).height();
            var $innerCarousel = $(event.target).find('.carousel-inner');
            $innerCarousel.animate({
                height: height
            });
        });
    </script>

    <!-- Popovers -->
    <script>
        $(function () {
            $('[data-toggle="popover"]').popover()
        })
        $('.popover-dismiss').popover({
            trigger: 'focus'
        })
    </script>

    <!-- Tooltips -->
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>

    <!-- 显示设置的显示与隐藏 -->
    <script>
        $("#showViewSetting").click(function () {
            $("#viewSetting").toggle();
        });
    </script>

</body>

</html>